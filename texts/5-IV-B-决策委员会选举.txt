决策委员的选举结果对余额规划很重要。良好的决策委员会选举方法能够把恶意节点选举进入委员会成员的可能性最小化，这样可以防御Sybil攻击。另外，良好的决策委员会选举方法不依赖受信任的中央控制，并且复杂度低，节点之间的消息交换最少。

为了实现上述设计目标，作者提出了加密分类选举法，这个选举方法根据节点在历史付款的贡献度来选择节点的子集作为决策委员会。具体来说，我们用W表示最后τ轮中所有节点的通道余额总量，而由节点i贡献的部分为w_i，即分类权重。我们旨在选择一个决策委员会，其总权重约为_w且_w≤W。密码分类选举法可以确保将节点i选入决策委员会的概率与w_i成正比，这导致企图用很低的预算作恶的节点被选入决策委员会的可能性很小。作者遍历全体节点，从链上获得分类权重信息{w_i | i∈N}。当节点打开或关闭支付通道时，它们的通道余额将包含在区块链存储的通道智能合约中，锁定在支付通道的余额对所有节点都是可见的。

流程2给出了密码分类算法的伪代码实现。首先调用可验证的随机函数VRF，它的参数r是epoch的序号，seed_r是随机数种子，随机数种子是当前选举委员会根据上一个种子生成的。VRF函数返回一个哈希值hash_i和一个证明π_i，它们分别取决于私钥sk_i，r和seed_r。哈希值hash_i的长度是hashlen个比特位。接下来，检查哈希是否不大于某个目标阈值δ_i，这里实际上直接借鉴了比特币挖矿中，求解数学问题的难度控制，如果满足要求，那么节点i有可能被选入决策委员会。δ_i的值控制了节点进入决策委员会的难易程度，具体控制方法跟作者希望设置的决策委员会成员的总权重_w有关，这种计算方法的好处在于无需节点间交换信息，每个节点都有对应的阈值，保证了隐私。

流程3给出了密码分类算法获得结果的验证方法，作者提出了使用VerifyVRF函数，根据公钥pk_i，π_i，r和seed_r来检查hash_i的正确性。如果hash_i是正确的，流程3会继续检查哈希的取值是否不大于目标阈值δ_i。如果两个条件检查都通过，哈希验证才能通过。
